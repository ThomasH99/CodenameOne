<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CStringBuilder.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">codenameone-core-unittests</a> &gt; <a href="index.source.html" class="el_package">com.codename1.util</a> &gt; <span class="el_source">CStringBuilder.java</span></div><h1>CStringBuilder.java</h1><pre class="source lang-java linenums">/*
 *  Licensed to the Apache Software Foundation (ASF) under one or more
 *  contributor license agreements.  See the NOTICE file distributed with
 *  this work for additional information regarding copyright ownership.
 *  The ASF licenses this file to You under the Apache License, Version 2.0
 *  (the &quot;License&quot;); you may not use this file except in compliance with
 *  the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
package com.codename1.util;

/**
 * This is generally the Apache String builder class refactored here so we can
 * use it regardless of vm limitations/differences for increased performance.
 * A modifiable {@link CharSequence sequence of characters} for use in creating
 * and modifying Strings. This class is intended as a direct replacement of
 * {@link StringBuffer} for non-concurrent use; unlike {@code StringBuffer} this
 * class is not synchronized for thread safety.
 * &lt;p&gt;
 * The majority of the modification methods on this class return {@code
 * StringBuilder}, so that, like {@code StringBuffer}s, they can be used in
 * chaining method calls together. For example, {@code new StringBuilder(&quot;One
 * should &quot;).append(&quot;always strive &quot;).append(&quot;to achieve Harmony&quot;)}.
 *
 * @see CharSequence
 * @see Appendable
 * @see StringBuffer
 * @see String
 * @since 1.5
 * @deprecated we will be moving to the proper string builder very soon
 */
public final class CStringBuilder extends AbstractStringBuilder {
    /**
     * Constructs an instance with an initial capacity of {@code 16}.
     *
     * @see #capacity()
     */
    public CStringBuilder() {
<span class="fc" id="L46">        super();</span>
<span class="fc" id="L47">    }</span>

    /**
     * Constructs an instance with the specified capacity.
     *
     * @param capacity the initial capacity to use.
     * @throws NegativeArraySizeException if the specified {@code capacity} is negative.
     * @see #capacity()
     */
    public CStringBuilder(int capacity) {
<span class="nc" id="L57">        super(capacity);</span>
<span class="nc" id="L58">    }</span>

    /**
     * Constructs an instance that's initialized with the contents of the
     * specified {@code String}. The capacity of the new builder will be the
     * length of the {@code String} plus 16.
     *
     * @param str the {@code String} to copy into the builder.
     * @throws NullPointerException if {@code str} is {@code null}.
     */
    public CStringBuilder(String str) {
<span class="nc" id="L69">        super(str);</span>
<span class="nc" id="L70">    }</span>

    /**
     * Appends the string representation of the specified {@code boolean} value.
     * The {@code boolean} value is converted to a String according to the rule
     * defined by {@link String#valueOf(boolean)}.
     *
     * @param b the {@code boolean} value to append.
     * @return this builder.
     * @see String#valueOf(boolean)
     */
    public CStringBuilder append(boolean b) {
<span class="pc bpc" id="L82" title="1 of 2 branches missed.">        append0(b ? &quot;true&quot; : &quot;false&quot;); //$NON-NLS-1$ //$NON-NLS-2$</span>
<span class="fc" id="L83">        return this;</span>
    }

    /**
     * Appends the string representation of the specified {@code char} value.
     * The {@code char} value is converted to a string according to the rule
     * defined by {@link String#valueOf(char)}.
     *
     * @param c the {@code char} value to append.
     * @return this builder.
     * @see String#valueOf(char)
     */
    public CStringBuilder append(char c) {
<span class="fc" id="L96">        append0(c);</span>
<span class="fc" id="L97">        return this;</span>
    }

    /**
     * Appends the string representation of the specified {@code int} value. The
     * {@code int} value is converted to a string according to the rule defined
     * by {@link String#valueOf(int)}.
     *
     * @param i the {@code int} value to append.
     * @return this builder.
     * @see String#valueOf(int)
     */
    public CStringBuilder append(int i) {
<span class="fc" id="L110">        append0(Integer.toString(i));</span>
<span class="fc" id="L111">        return this;</span>
    }

    /**
     * Appends the string representation of the specified {@code long} value.
     * The {@code long} value is converted to a string according to the rule
     * defined by {@link String#valueOf(long)}.
     *
     * @param lng the {@code long} value.
     * @return this builder.
     * @see String#valueOf(long)
     */
    public CStringBuilder append(long lng) {
<span class="fc" id="L124">        append0(Long.toString(lng));</span>
<span class="fc" id="L125">        return this;</span>
    }

    /**
     * Appends the string representation of the specified {@code float} value.
     * The {@code float} value is converted to a string according to the rule
     * defined by {@link String#valueOf(float)}.
     *
     * @param f the {@code float} value to append.
     * @return this builder.
     * @see String#valueOf(float)
     */
    public CStringBuilder append(float f) {
<span class="nc" id="L138">        append0(Float.toString(f));</span>
<span class="nc" id="L139">        return this;</span>
    }

    /**
     * Appends the string representation of the specified {@code double} value.
     * The {@code double} value is converted to a string according to the rule
     * defined by {@link String#valueOf(double)}.
     *
     * @param d the {@code double} value to append.
     * @return this builder.
     * @see String#valueOf(double)
     */
    public CStringBuilder append(double d) {
<span class="nc" id="L152">        append0(Double.toString(d));</span>
<span class="nc" id="L153">        return this;</span>
    }

    /**
     * Appends the string representation of the specified {@code Object}.
     * The {@code Object} value is converted to a string according to the rule
     * defined by {@link String#valueOf(Object)}.
     *
     * @param obj the {@code Object} to append.
     * @return this builder.
     * @see String#valueOf(Object)
     */
    public CStringBuilder append(Object obj) {
<span class="nc bnc" id="L166" title="All 2 branches missed.">        if (obj == null) {</span>
<span class="nc" id="L167">            appendNull();</span>
        } else {
<span class="nc" id="L169">            append0(obj.toString());</span>
        }
<span class="nc" id="L171">        return this;</span>
    }

    /**
     * Appends the contents of the specified string. If the string is {@code
     * null}, then the string {@code &quot;null&quot;} is appended.
     *
     * @param str the string to append.
     * @return this builder.
     */
    public CStringBuilder append(String str) {
<span class="nc" id="L182">        append0(str);</span>
<span class="nc" id="L183">        return this;</span>
    }

    /**
     * Appends the string representation of the specified {@code char[]}.
     * The {@code char[]} is converted to a string according to the rule
     * defined by {@link String#valueOf(char[])}.
     *
     * @param ch the {@code char[]} to append..
     * @return this builder.
     * @see String#valueOf(char[])
     */
    public CStringBuilder append(char[] ch) {
<span class="nc" id="L196">        append0(ch);</span>
<span class="nc" id="L197">        return this;</span>
    }

    /**
     * Appends the string representation of the specified subset of the {@code
     * char[]}. The {@code char[]} value is converted to a String according to
     * the rule defined by {@link String#valueOf(char[], int, int)}.
     *
     * @param str    the {@code char[]} to append.
     * @param offset the inclusive offset index.
     * @param len    the number of characters.
     * @return this builder.
     * @throws ArrayIndexOutOfBoundsException if {@code offset} and {@code len} do not specify a valid
     *                                        subsequence.
     * @see String#valueOf(char[], int, int)
     */
    public CStringBuilder append(char[] str, int offset, int len) {
<span class="nc" id="L214">        append0(str, offset, len);</span>
<span class="nc" id="L215">        return this;</span>
    }


    /**
     * Appends the encoded Unicode code point. The code point is converted to a
     * {@code char[]} as defined by {@link Character#toChars(int)}.
     *
     * @param codePoint the Unicode code point to encode and append.
     * @return this builder.
     * @see Character#toChars(int)
     */
    public CStringBuilder appendCodePoint(int codePoint) {
<span class="nc" id="L228">        append0(Character.toChars(codePoint));</span>
<span class="nc" id="L229">        return this;</span>
    }

    /**
     * Deletes a sequence of characters specified by {@code start} and {@code
     * end}. Shifts any remaining characters to the left.
     *
     * @param start the inclusive start index.
     * @param end   the exclusive end index.
     * @return this builder.
     * @throws StringIndexOutOfBoundsException if {@code start} is less than zero, greater than the current
     *                                         length or greater than {@code end}.
     */
    public CStringBuilder delete(int start, int end) {
<span class="nc" id="L243">        delete0(start, end);</span>
<span class="nc" id="L244">        return this;</span>
    }

    /**
     * Deletes the character at the specified index. shifts any remaining
     * characters to the left.
     *
     * @param index the index of the character to delete.
     * @return this builder.
     * @throws StringIndexOutOfBoundsException if {@code index} is less than zero or is greater than or
     *                                         equal to the current length.
     */
    public CStringBuilder deleteCharAt(int index) {
<span class="nc" id="L257">        deleteCharAt0(index);</span>
<span class="nc" id="L258">        return this;</span>
    }

    /**
     * Inserts the string representation of the specified {@code boolean} value
     * at the specified {@code offset}. The {@code boolean} value is converted
     * to a string according to the rule defined by
     * {@link String#valueOf(boolean)}.
     *
     * @param offset the index to insert at.
     * @param b      the {@code boolean} value to insert.
     * @return this builder.
     * @throws StringIndexOutOfBoundsException if {@code offset} is negative or greater than the current
     *                                         {@code length}.
     * @see String#valueOf(boolean)
     */
    public CStringBuilder insert(int offset, boolean b) {
<span class="nc bnc" id="L275" title="All 2 branches missed.">        insert0(offset, b ? &quot;true&quot; : &quot;false&quot;); //$NON-NLS-1$ //$NON-NLS-2$</span>
<span class="nc" id="L276">        return this;</span>
    }

    /**
     * Inserts the string representation of the specified {@code char} value at
     * the specified {@code offset}. The {@code char} value is converted to a
     * string according to the rule defined by {@link String#valueOf(char)}.
     *
     * @param offset the index to insert at.
     * @param c      the {@code char} value to insert.
     * @return this builder.
     * @throws IndexOutOfBoundsException if {@code offset} is negative or greater than the current
     *                                   {@code length()}.
     * @see String#valueOf(char)
     */
    public CStringBuilder insert(int offset, char c) {
<span class="nc" id="L292">        insert0(offset, c);</span>
<span class="nc" id="L293">        return this;</span>
    }

    /**
     * Inserts the string representation of the specified {@code int} value at
     * the specified {@code offset}. The {@code int} value is converted to a
     * String according to the rule defined by {@link String#valueOf(int)}.
     *
     * @param offset the index to insert at.
     * @param i      the {@code int} value to insert.
     * @return this builder.
     * @throws StringIndexOutOfBoundsException if {@code offset} is negative or greater than the current
     *                                         {@code length()}.
     * @see String#valueOf(int)
     */
    public CStringBuilder insert(int offset, int i) {
<span class="nc" id="L309">        insert0(offset, Integer.toString(i));</span>
<span class="nc" id="L310">        return this;</span>
    }

    /**
     * Inserts the string representation of the specified {@code long} value at
     * the specified {@code offset}. The {@code long} value is converted to a
     * String according to the rule defined by {@link String#valueOf(long)}.
     *
     * @param offset the index to insert at.
     * @param l      the {@code long} value to insert.
     * @return this builder.
     * @throws StringIndexOutOfBoundsException if {@code offset} is negative or greater than the current
     *                                         {code length()}.
     * @see String#valueOf(long)
     */
    public CStringBuilder insert(int offset, long l) {
<span class="nc" id="L326">        insert0(offset, Long.toString(l));</span>
<span class="nc" id="L327">        return this;</span>
    }

    /**
     * Inserts the string representation of the specified {@code float} value at
     * the specified {@code offset}. The {@code float} value is converted to a
     * string according to the rule defined by {@link String#valueOf(float)}.
     *
     * @param offset the index to insert at.
     * @param f      the {@code float} value to insert.
     * @return this builder.
     * @throws StringIndexOutOfBoundsException if {@code offset} is negative or greater than the current
     *                                         {@code length()}.
     * @see String#valueOf(float)
     */
    public CStringBuilder insert(int offset, float f) {
<span class="nc" id="L343">        insert0(offset, Float.toString(f));</span>
<span class="nc" id="L344">        return this;</span>
    }

    /**
     * Inserts the string representation of the specified {@code double} value
     * at the specified {@code offset}. The {@code double} value is converted
     * to a String according to the rule defined by
     * {@link String#valueOf(double)}.
     *
     * @param offset the index to insert at.
     * @param d      the {@code double} value to insert.
     * @return this builder.
     * @throws StringIndexOutOfBoundsException if {@code offset} is negative or greater than the current
     *                                         {@code length()}.
     * @see String#valueOf(double)
     */
    public CStringBuilder insert(int offset, double d) {
<span class="nc" id="L361">        insert0(offset, Double.toString(d));</span>
<span class="nc" id="L362">        return this;</span>
    }

    /**
     * Inserts the string representation of the specified {@code Object} at the
     * specified {@code offset}. The {@code Object} value is converted to a
     * String according to the rule defined by {@link String#valueOf(Object)}.
     *
     * @param offset the index to insert at.
     * @param obj    the {@code Object} to insert.
     * @return this builder.
     * @throws StringIndexOutOfBoundsException if {@code offset} is negative or greater than the current
     *                                         {@code length()}.
     * @see String#valueOf(Object)
     */
    public CStringBuilder insert(int offset, Object obj) {
<span class="nc bnc" id="L378" title="All 2 branches missed.">        insert0(offset, obj == null ? &quot;null&quot; : obj.toString()); //$NON-NLS-1$</span>
<span class="nc" id="L379">        return this;</span>
    }

    /**
     * Inserts the specified string at the specified {@code offset}. If the
     * specified string is null, then the String {@code &quot;null&quot;} is inserted.
     *
     * @param offset the index to insert at.
     * @param str    the {@code String} to insert.
     * @return this builder.
     * @throws StringIndexOutOfBoundsException if {@code offset} is negative or greater than the current
     *                                         {@code length()}.
     */
    public CStringBuilder insert(int offset, String str) {
<span class="fc" id="L393">        insert0(offset, str);</span>
<span class="fc" id="L394">        return this;</span>
    }

    /**
     * Inserts the string representation of the specified {@code char[]} at the
     * specified {@code offset}. The {@code char[]} value is converted to a
     * String according to the rule defined by {@link String#valueOf(char[])}.
     *
     * @param offset the index to insert at.
     * @param ch     the {@code char[]} to insert.
     * @return this builder.
     * @throws StringIndexOutOfBoundsException if {@code offset} is negative or greater than the current
     *                                         {@code length()}.
     * @see String#valueOf(char[])
     */
    public CStringBuilder insert(int offset, char[] ch) {
<span class="nc" id="L410">        insert0(offset, ch);</span>
<span class="nc" id="L411">        return this;</span>
    }

    /**
     * Inserts the string representation of the specified subsequence of the
     * {@code char[]} at the specified {@code offset}. The {@code char[]} value
     * is converted to a String according to the rule defined by
     * {@link String#valueOf(char[], int, int)}.
     *
     * @param offset    the index to insert at.
     * @param str       the {@code char[]} to insert.
     * @param strOffset the inclusive index.
     * @param strLen    the number of characters.
     * @return this builder.
     * @throws StringIndexOutOfBoundsException if {@code offset} is negative or greater than the current
     *                                         {@code length()}, or {@code strOffset} and {@code strLen} do
     *                                         not specify a valid subsequence.
     * @see String#valueOf(char[], int, int)
     */
    public CStringBuilder insert(int offset, char[] str, int strOffset,
                                 int strLen) {
<span class="nc" id="L432">        insert0(offset, str, strOffset, strLen);</span>
<span class="nc" id="L433">        return this;</span>
    }

    /**
     * Replaces the specified subsequence in this builder with the specified
     * string.
     *
     * @param start the inclusive begin index.
     * @param end   the exclusive end index.
     * @param str   the replacement string.
     * @return this builder.
     * @throws StringIndexOutOfBoundsException if {@code start} is negative, greater than the current
     *                                         {@code length()} or greater than {@code end}.
     * @throws NullPointerException            if {@code str} is {@code null}.
     */
    public CStringBuilder replace(int start, int end, String str) {
<span class="nc" id="L449">        replace0(start, end, str);</span>
<span class="nc" id="L450">        return this;</span>
    }

    /**
     * Reverses the order of characters in this builder.
     *
     * @return this buffer.
     */
    public CStringBuilder reverse() {
<span class="nc" id="L459">        reverse0();</span>
<span class="nc" id="L460">        return this;</span>
    }

    /**
     * Returns the contents of this builder.
     *
     * @return the string representation of the data in this builder.
     */
    @Override
    public String toString() {
        /* Note: This method is required to workaround a compiler bug
         * in the RI javac (at least in 1.5.0_06) that will generate a
         * reference to the non-public AbstractStringBuilder if we don't
         * override it here.
         */
<span class="fc" id="L475">        return super.toString();</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>