<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Layout.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">codenameone-core-unittests</a> &gt; <a href="index.source.html" class="el_package">com.codename1.ui.layouts</a> &gt; <span class="el_source">Layout.java</span></div><h1>Layout.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 2008, 2010, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the &quot;Classpath&quot; exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores
 * CA 94065 USA or visit www.oracle.com if you need additional information or
 * have any questions.
 */
package com.codename1.ui.layouts;

import com.codename1.ui.Component;
import com.codename1.ui.Container;
import com.codename1.ui.geom.Dimension;


/**
 * Abstract class that can be used to arrange components in a container using
 * a predefined algorithm. This class may be implemented externally and is similar
 * in spirit to the AWT/Swing layout managers.
 *
 * @author Chen Fishbein
 */
<span class="fc" id="L38">public abstract class Layout {</span>

    /**
     * Utility method
     *
     * @param parent
     * @param components
     * @param offset
     * @return
     */
    private static int updateTabIndicesImpl(Container parent, Component[] components, int offset) {
<span class="fc" id="L49">        int len = components.length;</span>
<span class="fc" id="L50">        int idx = offset;</span>
<span class="fc bfc" id="L51" title="All 2 branches covered.">        for (int i = 0; i &lt; len; i++) {</span>
<span class="fc" id="L52">            Component cmp = components[i];</span>
<span class="fc bfc" id="L53" title="All 2 branches covered.">            if (cmp != null) {</span>
<span class="fc" id="L54">                int prefIdx = cmp.getPreferredTabIndex();</span>
<span class="fc bfc" id="L55" title="All 2 branches covered.">                if (prefIdx == 0) {</span>
<span class="fc" id="L56">                    cmp.setTabIndex(idx++);</span>
                } else {
<span class="fc" id="L58">                    cmp.setTabIndex(prefIdx);</span>
                }
<span class="fc bfc" id="L60" title="All 2 branches covered.">                if (cmp instanceof Container) {</span>
<span class="fc" id="L61">                    idx = ((Container) cmp).updateTabIndices(idx);</span>
                }
            }
        }
<span class="fc" id="L65">        return idx;</span>
    }

    /**
     * Layout the given parent container children
     *
     * @param parent the given parent container
     */
    public abstract void layoutContainer(Container parent);

    /**
     * Returns the container preferred size
     *
     * @param parent the parent container
     * @return the container preferred size
     */
    public abstract Dimension getPreferredSize(Container parent);

    /**
     * Some layouts can optionally track the addition of elements with meta-data
     * that allows the user to &quot;hint&quot; on object positioning.
     *
     * @param value optional meta data information, like alignment orientation
     * @param comp  the added component to the layout
     * @param c     the parent container
     */
    public void addLayoutComponent(Object value, Component comp, Container c) {
<span class="pc bpc" id="L92" title="1 of 2 branches missed.">        if (value != null) {</span>
<span class="nc" id="L93">            throw new IllegalStateException(&quot;Layout doesn't support adding with arguments: &quot; + getClass().getName());</span>
        }
<span class="fc" id="L95">    }</span>

    /**
     * Removes the component from the layout this operation is only useful if the
     * layout maintains references to components within it
     *
     * @param comp the removed component from layout
     */
    public void removeLayoutComponent(Component comp) {
<span class="fc" id="L104">    }</span>

    /**
     * Returns the optional component constraint
     *
     * @param comp the component whose constraint should be returned
     * @return the optional component constraint
     */
    public Object getComponentConstraint(Component comp) {
<span class="fc" id="L113">        return null;</span>
    }

    public Object cloneConstraint(Object constraint) {
<span class="fc" id="L117">        return constraint;</span>
    }

    /**
     * This method returns true if the Layout allows Components to
     * Overlap.
     *
     * @return true if Components may intersect in this layout
     */
    public boolean isOverlapSupported() {
<span class="fc" id="L127">        return false;</span>
    }

    /**
     * {@inheritDoc}
     */
    public boolean equals(Object o) {
<span class="pc bpc" id="L134" title="2 of 4 branches missed.">        return o != null &amp;&amp; o.getClass() == getClass();</span>
    }

    /**
     * {@inheritDoc}
     */
    public int hashCode() {
<span class="nc" id="L141">        return getClass().getName().hashCode();</span>
    }

    /**
     * If this method returns true, the addLayoutComponent method will be called when replacing a
     * layout for every component within the container
     *
     * @return false by default
     */
    public boolean isConstraintTracking() {
<span class="fc" id="L151">        return false;</span>
    }

    /**
     * Some layout managers can obscure their child components in some cases this
     * returns true if the basic underpinnings are in place for that. This method
     * doesn't take padding/margin etc. into account since that is checked by the
     * caller
     *
     * @param parent parent container
     * @return true if there is a chance that this layout manager can fully obscure the background, when in doubt return false...
     */
    public boolean obscuresPotential(Container parent) {
<span class="nc" id="L164">        return false;</span>
    }

    /**
     * If a layout specifies a different traversal order of its components than the
     * component index, then it should override this method to return {@literal true}, and
     * it should also override {@link #getChildrenInTraversalOrder(com.codename1.ui.Container) }
     * to set the tab indices of a container's children.
     *
     * @param parent The parent component.
     * @return True if this layout overrides tab traversal order.
     */
    public boolean overridesTabIndices(Container parent) {
<span class="nc" id="L177">        return false;</span>
    }

    /**
     * Updates the tab traversal order
     *
     * @param parent
     * @param offset
     * @return
     */
    public final int updateTabIndices(Container parent, int offset) {
<span class="pc bpc" id="L188" title="1 of 2 branches missed.">        if (overridesTabIndices(parent)) {</span>
<span class="fc" id="L189">            Component[] cmps = getChildrenInTraversalOrder(parent);</span>
<span class="fc" id="L190">            return updateTabIndicesImpl(parent, cmps, offset);</span>
        }
<span class="nc" id="L192">        return offset;</span>
    }

    /**
     * Gets the children of the parent container in the order that they should
     * be traversed when tabbing through a form.
     *
     * &lt;p&gt;This should only be overridden if the Layout defines a different traversal order
     * than the standard index order.  &lt;/p&gt;
     *
     * &lt;p&gt;Layouts that implement this method, should override the {@link #overridesTabIndices(com.codename1.ui.Container) }
     * method to return {@literal true}.&lt;/p&gt;
     *
     * @param parent
     * @return Array of Components in the order
     */
    protected Component[] getChildrenInTraversalOrder(Container parent) {
<span class="nc" id="L209">        return null;</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>